# Models for which sea surface height (SSH) variability is to be evaluated.
datasets:
  - catalog: null
    model: 'IFS-FESOM'
    exp: 'ssp370'
    source: 'lra-r100-monthly'
    #zoom: 10
    regrid: null

# This is the reference model against which other models are compared.
references:
  - catalog: null 
    model: 'AVISO'
    exp: 'ssh-L4'
    source: 'daily'
    regrid: null

setup:
  loglevel: 'WARNING'

output:
  outputdir: "./"
  rebuild: true
  save_netcdf: true
  save_pdf: true
  save_png: true
  dpi: 600

diagnostics:
  sshVariability:
    run: true
    diagnostic_name: 'sshVariability'
    variables: ['zos',]
    params:
      default:
        startdate_data: '2021-01-01'
        enddate_data: '2021-01-07'
        startdate_ref: "2021-01-01"
        enddate_ref: "2021-01-07"
    plot_params:
      default: 
        projection: 'robinson'
        projection_params: {}
        vmin: 0.1
        vmax: 0.4
        contours: 21
      # sub region selection 
      sub_region : 
        name: Agulhas
        lon_lim: [5, 50]
        lat_lim: [-10, -50]
      # ONLY FOR ICON: Flags for northern and southern boundaries to mask out specific latitudes.
      # As AVISO does not have data under the sea ice, which ICON does, 
      # to make the datasets comparable - SSH under sea ice for ICON can be masked out.
      mask_options:
        mask_northern_boundary: true
        mask_southern_boundary: true
        northern_boundary_latitude: 70
        southern_boundary_latitude: -62

# This is the current dask configuration which works for the inputs above. It could be adjusted based on the system this application is run.
cluster:
  nworkers: 8
  #threads_per_worker: 1
  #memory_limit: 30e9

