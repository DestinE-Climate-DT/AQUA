defaults:

    # The default datamodel for sources if not specified below
    src_datamodel: cf
    # The datamodel convention (axes names, directions) for output coordinates
    dst_datamodel: cds

    units:
        mass_flux:  kg m-2 s-1
        radiation_flux: W m-2
        temperature: K

models:
    IFS:
        default:
            ICMGG_atm2d:
                deltat: 3600
                month_jump: true
                vars:
                    tprate:
                        derived: tp
                        grib: true
                        decumulate: true    
                    cprate:
                        derived: cp
                        grib: true
                        decumulate: true
                    mlsprt:
                        derived: lsp
                        grib: true
                        decumulate: true  
                    erate:
                        derived: e
                        grib: true
                        src_units: m
                        decumulate: true 
                    esrate:
                        derived: es
                        grib: true
                        decumulate: true 
                    mrort:
                        derived: ro
                        grib: true
                        decumulate: true
                    mtsfr:
                        derived: sf
                        grib: true
                        decumulate: true
                    mslhfl:
                        derived: slhf
                        grib: true
                        decumulate: true
                    msshfl:
                        derived: sshf
                        grib: true
                        decumulate: true
                    msnsrf:
                        derived: ssr
                        grib: true
                        decumulate: true
                    msdsrf:
                        derived: ssrd
                        grib: true
                        decumulate: true  
                    msdtrf:
                        derived: strd
                        grib: true
                        decumulate: true   
                    msntrf:
                        derived: str
                        grib: true
                        decumulate: true
                    msdtrf:
                        derived: strd
                        grib: true
                        decumulate: true
                    mtntrf:
                        derived: ttr
                        grib: true
                        decumulate: true         
                    var172045:  # if the variable has no short name we can use its paramId
                        derived: smlt
                        grib: true
                        decumulate: true

    ICON:
        default:
            default:
                data_model: false  # Do not attempt to correct coordinates
                delete:  # variables to drop at the end
                    - hfls
                    - hfss
                    - rlus
                    - rlut
                    - rsus
                    - rsdt
                    - rsut
                vars:
                    iews:
                        source: tauu
                        grib: true
                    inss:
                        source: tauv
                        grib: true
                    skt:
                        source: ts
                        grib: true
                    sp:
                        source: ps
                        grib: true
                    msl:
                        source: psl
                        grib: true
                    10si:
                        source: sfcwind
                        grib: true
                    ci:
                        source: sic
                        src_units: "1"
                        grib: true
                        attributes:
                            units: "1"
                    sithick:
                        source: sit
                        grib: true
                    2t:
                        source: tas
                        grib: true
                    10u:
                        source: uas
                        grib: true
                    10v:
                        source: vas
                        grib: true
                    tciw:
                        source: clivi
                        grib: true
                    tclw:
                        source: cllvi
                        grib: true
                    mslhfl:
                        derived: 0-hfls
                        grib: true
                    msshfl:
                        derived: 0-hfss
                        grib: true
                    tprate:
                        source: pr
                        grib: true
                    mlsprt:
                        source: prlr
                        grib: true
                    tcwv:
                        source: prw
                        grib: true
                    msdtrf:
                        source: rlds
                        grib: true
                    msntrf:
                        derived: rlds-rlus
                        grib: true
                    mtntrf:
                        derived: 0-rlut
                        grib: true
                    msdsrf:
                        source: rsds
                        grib: true
                    msnsrf:
                        derived: rsds-rsus
                        grib: true
                    mtnsrf:
                        derived: rsdt-rsut
                        grib: true

    FESOM:
        default:
            interpolated_global_TS:
                data_model: False  # Do not attempto to correct coordinates
                vars:
                    ocpt: 
                        derived: temp
                        src_units: degC
                        grib: true
                        attributes:
                            units: degC # Override units from grib tables

    MSWEP:
        default:
            default:
                data_model: mswep  # Special data model so that lats are not flipped
                vars:
                    # Automatic conversion to destination grib units
                    tprate:
                        source: precipitation
                        grib: true

    ERA5:
        default:
            default:
                deltat: 86400
                data_model: cf
            monthly_acc:
                deltat: 86400
                data_model: cf
                vars:
                    # Derive a variable and determine destination units etc. automatically from eccodes
                    tprate:
                        derived: cp+lsp
                        #src_units: m
                        grib: true

    CERES:
        default:
            default:
                data_model: False
        syn-toa41:
            default:
                vars:
                    toa_lw_all_daily_eb:
                        derived: toa_lw_all_daily*1.0060667743 
                        attributes:
                            long_name: Observed Top of the Atmosphere Longwave Flux, All-sky conditions, Daily Means, Energy balanced
                            standard_name: toa_outgoing_longwave_flux
                            units: W m-2
                            valid_min: 0
                            valid_max: 500
                            positive: up
                    toa_sw_all_daily_eb:
                        derived: toa_sw_all_daily*1.0198334952
                        attributes:
                            long_name: Observed Top of the Atmosphere Shortwave Flux, All-sky conditions, Daily Means, Energy balanced
                            standard_name: toa_outgoing_shortwave_flux
                            units: W m-2
                            valid_min: 0
                            valid_max: 1400
                            positive: up
                    toa_solar_all_daily_eb:
                        derived: toa_sw_all_daily+toa_lw_all_daily+toa_net_all_daily-0.01632
                        attributes:
                            long_name: Observed Top of the Atmosphere incoming Solar Flux, Daily Means, Energy balanced
                            units: W m-2
                            valid_min: 0
                            valid_max: 1400
                            positive: down
                    mtntrf:
                        # The fixer does not allow multiplying by negative numbers yet
                        derived: 0.-toa_lw_all_daily_eb
                        # Let's use eccodes tables to find the attributes
                        grib: true
                        attributes:
                            valid_min: -500
                            valid_max: 0
                            positive: down    
                    mtnsrf:
                        # The fixer does not allow multiplying by negative numbers yet
                        derived: toa_solar_all_daily_eb-toa_sw_all_daily_eb
                        # Let's use eccodes tables to find the attributes
                        grib: true
                        attributes:
                            valid_min: 0
                            valid_max: 1400
                            positive: down