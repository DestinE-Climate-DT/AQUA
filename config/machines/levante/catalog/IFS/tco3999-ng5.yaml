plugins:
  source:
  - module: intake_xarray
  - module: gribscan

sources:
  ICMGG_atm2d:
    driver: zarr
    description: original 2d output
    args:
      consolidated: false
      #urlpath: reference::/work/bm1235/a270046/cycle2-sync/tco3999-ng5/ICMGGc2/json.dir/atm2d.json
      urlpath: reference::/work/bm1344/AWI/nextGEMS_Cycle2_IFS_concat/tco3999-ng5/varfiles_all/json.dir/atm2d.json
    metadata:
      source_grid_name: tco3999
      fixer_name: ifs-default
  ICMU_atm2d:
    driver: zarr
    description: original 2d output (lnsp)
    args:
      consolidated: false
      #urlpath: reference::/work/bm1235/a270046/cycle2-sync/tco3999-ng5/ICMUAc2/json.dir/atm2d.json
      urlpath: reference::/work/bm1344/AWI/nextGEMS_Cycle2_IFS_concat/tco3999-ng5/varfiles_all/json.dir/atm2d.json
    metadata:
      source_grid_name: tco3999
      fixer_name: ifs-default
  ICMU_atm3d:
    driver: zarr
    description: original 3d output
    args:
      consolidated: false
      #urlpath: reference::/work/bm1235/a270046/cycle2-sync/tco3999-ng5/ICMUAc2/json.dir/atm3d.json
      urlpath: reference::/work/bm1344/AWI/nextGEMS_Cycle2_IFS_concat/tco3999-ng5/varfiles_all/json.dir/atm3d.json
    metadata:
      source_grid_name: tco3999
  interpolated_global:
    driver: zarr
    description: NN interpolation to 5400x2700 grid (lon=[-180,180], lat=[-90, 90])
    args:
      consolidated: false
      compat: override
      combine: nested
      #urlpath: 
      #- reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/2t/netcdf/tco3999-ng5_pc.json
      #- reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/2d/netcdf/tco3999-ng5_pc.json
      #- reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/lcc/netcdf/tco3999-ng5_pc.json
      #- reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/10u/netcdf/tco3999-ng5_pc.json
      #- reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/10v/netcdf/tco3999-ng5_pc.json
      urlpath:
      - reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/2t/netcdf/tco3999-ng5_pc.json
      - reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/2d/netcdf/tco3999-ng5_pc.json
      - reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/lcc/netcdf/tco3999-ng5_pc.json
      - reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/10u/netcdf/tco3999-ng5_pc.json
      - reference::/work/ab0995/a270088/NextGems_public/appetizer/IFS2.5/10v/netcdf/tco3999-ng5_pc.json
    metadata:
      source_grid_name: ifs-interpolated
      fixer_name: ifs-default
  lra-r100-monthly:
    driver: netcdf
    description: LRA data monthly at r100
    args:
      urlpath: 
        /work/bb1153/b382076/LRA-cycle2/IFS/tco3999-ng5/r100/monthly/*tco3999-ng5_r100_monthly_????.nc
      chunks: {}
      xarray_kwargs:
        decode_times: true
    metadata:
      source_grid_name: lon-lat