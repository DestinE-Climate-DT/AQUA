# At the moment diagnostics have to create their own environment
# with the required dependencies.
# Compare this with AQUA/environment.yml to see the differences.
# If you experience problems with the environment, it may be
# because this file is not up to date with the environment.yml

name: dummy-diagnostic
channels:
  - conda-forge
  - numba
# please note that some of these dependencies are made explicit on purpose, but are not directly required by conda/mamba
dependencies:
  - python>=3.9,<3.11
  - libnetcdf<=4.8.1
  - netcdf4
  - xarray
  - dask
  - numpy
  - numba
  - ecCodes      
  - matplotlib
  - cartopy
  - cfunits
  - metpy
  - cdo
  - intake-esm<=2021.8.17
  - intake
  - intake-xarray
# these below are required for running the dummy diagnostic
  # - dummy-package
# these below are only required for running notebooks
  - ipykernel
  - healpy
# these are pip-based since it provides more recent versions or packages unavailable on conda-forge
  - pip
  - pip:
    - sparse
    - docker
    - gribscan
    - smmregrid
    # get OPA
    - git+https://oauth2:-nnxqtXxyrs3LrJubtH1@earth.bsc.es/gitlab/digital-twins/de_340/one_pass.git
    # pip install -e of AQUA itself
    - -e ./../../ # this is the path to the AQUA root folder
    # these below are only required for the dummy diagnostic
    # - dummy-pip-package
